<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Mini Photoshop</title>
  <link rel="stylesheet" href="src/css/style.css" />
</head>
<body>
  <header>
    <label for="input-image" class="btn-upload">
      Carregar Imagem
    </label>
    <input type="file" id="input-image" accept="image/*" style="display:none" />
    <button id="btn-save" class="btn-save">Salvar Imagem</button>
    <button id="btn-inv" class="btn-inv">Inverter Cores</button>
    <button id="btn-piecewise" class="btn-piecewise">Transformação por Partes</button>
    <button id="btn-steganography" class = "btn-steganography">Esteganografia</button>
    <div class="gamma-controls">
      <label for="gamma-value">Gamma:</label>
      <input
        type="number"
        id="gamma-value"
        value="2.2"
        step="0.1"
        min="0.1"
        max="10"
      />
      <button id="btn-gamma" class="btn-gamma">Aplicar Correção Gama</button>
    </div>
    <button id="btn-gray" class="btn-gray">Converter em Escala de Cinza</button>
    <button id="btn-hist" class="btn-hist">Exibição do Histograma</button>
    <button id="btn-limiar" class="btn-limiar">Binarização</button>
    <div class="convolution">
    <button id="btn-conv" class="btn-conv">Convolução</button>
    <button id="btn-conv-manual" class="btn-conv">Convolução Manual</button>
    </div>
    <button id="btn-filters" class="btn-filters">Filtros</button>
    <button id="btn-sharp" class="btn-sharp">Aguçamento</button>
    <button id="btn-edge" class="btn-edge">Detecção de Borda Não Linear</button>
    <button id="btn-rot" class="btn-rot">Rotação</button>
    <button id="btn-scale" class="btn-scale">Escala</button>
  </header>

  <main>
    <canvas id="canvas" width="800" height="600"></canvas>
  </main>

  <div id="scale-modal" class="modal">
    <div class="modal-content">
      <h2>Insira o fator de escala:<h2>
      <input type="number" id="scale-input-x" min="0" value="2" />
      <input type="number" id="scale-input-y" min="0" value="2" />
      <button id="confirm-scale">Escalar</button> 
    </div>
  </div>

  <div id="rot-modal" class="modal">
    <div class="modal-content">
      <h2>Insira o ângulo de rotação em graus:</h2>
      <input type="number" id="rot-input" min="0" value="90" />
      <button id="confirm-rotation">Rotacionar</button> 
    </div>
  </div>

  <div id="graph-modal" class="modal">
    <div class="modal-content">
      <span id="close-graph-modal" class="close">&times;</span>
      <h2>Transformação por Partes</h2>
      <canvas id="graph-container" width="400" height="400"></canvas>
      <button id="confirm-graph-points">Confirmar</button> 
    </div>
  </div>

  <div id="hist-modal" class="modal">
    <div class="modal-content">
      <span id="close-hist-modal" class="close">&times;</span>
      <h2>Histograma</h2>
      <canvas id="hist-container" width="400" height="400"></canvas>
      <button id="btn-equalize">Equalizar</button> 
    </div>
  </div>

  <div id="steganography-modal" class="modal">
    <div class="modal-content">
      <span id="close-steganography-modal" class="close">&times;</span>
      <h2>Esteganografia</h2>
      <textarea id="text-modal-textarea" rows="10" cols="50">
      </textarea>
      <button id="btn-decodify">Decodificar</button> 
      <button id="btn-codify">Codificar</button> 
    </div>
  </div>


<div id="conv-modal" class="modal">
  <div class="modal-content">
    <h2>Convolução</h2>

    <label for="preset">Escolha uma matriz predefinida:</label>
    <select id="preset">
      <option value="laplaciano">Laplaciano</option>
      <option value="gaussiana">Gaussiana</option>
      <option value="sobelX">Sobel em X</option>
      <option value="sobelY">Sobel em Y</option>
    </select>

    <pre id="preset-display" class="preset-display"></pre>

    <button id="apply-conv-btn" class="btn-apply-conv">Aplicar Convolução</button>
  </div>
</div>

<div id="sharp-modal" class="modal">
  <div class="modal-content">
    <h2>Aguçamento</h2>
    <label for="input-k">Fator k:</label>
    <input type="number" id="input-k" value="1"/>
    <button id="btn-laplacian-sharp">Aguçamento por Filtro Laplaciano</button>
    <button id="btn-high-boost">High-Boost</button>
  </div>
</div>






<div id="conv-manual-modal" class="modal">
  <div class="modal-content">
    <h2>Convolução Manual</h2>

    <label for="matrix-size">Tamanho da Matriz (N x N):</label>
    <input type="number" id="matrix-size" min="1" value="3" />
    <button id="btn-generate-matrix">Gerar Matriz</button>

    <div id="matrix-container" class="matrix-container"></div>

    <button id="apply-manual-conv-btn" class="btn-apply-conv">Aplicar Convolução</button>
  </div>
</div>


<div id="filters-manual-modal" class="modal">
  <div class="modal-content">
    <h2>Filtros</h2>

    <div class="filter-buttons">
      <button id="btn-media">Média</button>
      <button id="btn-media-ponderada">Média Ponderada</button>
      <button id="btn-mediana">Mediana</button>
    </div>

    <div id="matrix-size-input" class="hidden">
      <label for="matrix-size">Tamanho da matriz (ex: 3 para 3x3):</label>
      <input type="number" id="matrix-size" min="1" placeholder="Ex: 3" />
    </div>

  </div>
</div>


  <script type="module" src="src/main.js"></script>
</body>
</html>

